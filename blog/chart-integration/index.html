<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Alex Chirkin ">
<meta name="description" content="Introduction Integrating a chart into an application may appear easy task at first. If you have a container ready for the chart, all you need to do is include the necessary chart assets in a bundle and use them to render the chart. This approach works well for basic scenarios where you only need to provide data to a chart function and visualize it.
However, things can get more challenging when your chart requires responsiveness to user actions or data updates." />
<meta name="keywords" content="chartexample.com, blog, charts, d3, visualizations, plots, blog, chart, spa, application, data, interface" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://chartexample.com/blog/chart-integration/" />


    <title>
        
            Chart integration for modern web applications :: chartexample.com  â€” Blog about creating charts and data visualizations
        
    </title>




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer" />



<link rel="stylesheet" href="/main.14ebb2bdf48093b5d86ce6df5b88b815b907e3c52d59024151a56e018ff1e6c8.css" integrity="sha256-FOuyvfSAk7XYbObfW4i4FbkH48UtWQJBUaVuAY/x5sg=">


    
        <link rel="stylesheet" type="text/css" href="/style.css">
    


<link rel="shortcut icon" href="/favicon.ico">


<meta itemprop="name" content="Chart integration for modern web applications">
<meta itemprop="description" content="Introduction Integrating a chart into an application may appear easy task at first. If you have a container ready for the chart, all you need to do is include the necessary chart assets in a bundle and use them to render the chart. This approach works well for basic scenarios where you only need to provide data to a chart function and visualize it.
However, things can get more challenging when your chart requires responsiveness to user actions or data updates."><meta itemprop="datePublished" content="2023-06-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-06-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="1183"><meta itemprop="image" content="https://chartexample.com"/>
<meta itemprop="keywords" content="blog,chart,spa,application,data,interface," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://chartexample.com"/>

<meta name="twitter:title" content="Chart integration for modern web applications"/>
<meta name="twitter:description" content="Introduction Integrating a chart into an application may appear easy task at first. If you have a container ready for the chart, all you need to do is include the necessary chart assets in a bundle and use them to render the chart. This approach works well for basic scenarios where you only need to provide data to a chart function and visualize it.
However, things can get more challenging when your chart requires responsiveness to user actions or data updates."/>







    <meta property="article:published_time" content="2023-06-02 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark"></span>
            <span class="logo__text ">
                chartexample.com
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/blog/">Blog</a></li><li><a href="/charts">Charts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://chartexample.com/blog/chart-integration/">Chart integration for modern web applications</a></h2>

            
            
            

            <div class="post-content">
                <p><img src="/covers/plot-integration.png" alt="Chart integration"></p>
<h2 id="introduction">Introduction</h2>
<p>Integrating a chart into an application may appear easy task at first. If you have a container ready for the chart, all you need to do is include the necessary chart assets in a bundle and use them to render the chart. This approach works well for basic scenarios where you only need to provide data to a chart function and visualize it.</p>
<p>However, things can get more challenging when your chart requires responsiveness to user actions or data updates. If the application&rsquo;s rendering flow is beyond your control or if you need to implement additional logic to handle actions or updates, the integration task becomes more complex.</p>
<p>In this short article, I will demonstrate the power of web components usage to solve chart integration difficulties.</p>
<h2 id="wrapper-libraries">Wrapper libraries</h2>
<p>One effective solution is to use specific libraries that connect chart libraries to framework APIs. For example, if you need to render a D3 chart within a React application component, you can use <a href="https://react-d3-library.github.io/" target="_blank">react-d3-library</a>
. Similarly, <a href="https://github.com/ecomfe/vue-echarts" target="_blank">Vue-ECharts</a>
 can be used to integrate ECharts plot with Vue.</p>
<p>These libraries typically provide an interface for handling data, configuration, and additional options such as optimization and event management. In the majority of cases, if such a library (preferably a reliable one) exists for your technology stack, it is the recommended approach for connecting a chart to an application.</p>
<p>Besides, wrapper libraries offer several other benefits that can enhance the development experience:</p>
<ul>
<li>Improved rendering optimization: Wrapper libraries often optimize the rendering process, whenever possible, resulting in better performance and efficiency.</li>
<li>Configuration presets: These libraries typically provide pre-configured settings for common use cases.</li>
<li>Framework syntax support: Wrapper libraries support of popular framework syntaxes such as JSX or Vue templates.</li>
<li>Easy-to-use API: Wrapper libraries offer a user-friendly and intuitive API.</li>
</ul>
<p>However, it&rsquo;s important to consider the drawbacks associated with this approach:</p>
<ul>
<li>Additional dependency: Using a wrapper library introduces an extra dependency into the project, which may have its own bugs or implementation issues.</li>
<li>Insufficient API coverage: In some cases, the provided API of the wrapper library may not cover all the required functionalities or customization options.</li>
<li>Limited reusability: Plots that were integrated with wrapper libraries usage can be challenging to reuse in applications built with different frameworks or framework versions.</li>
</ul>
<h2 id="web-components">Web Components</h2>
<p>To avoid these drawbacks and create a chart as an independent application component with its own API, Web Components can be used.</p>
<blockquote>
<p>Web Components are reusable and customizable building blocks for web applications. They enable developers to create encapsulated components that can be used across different projects and frameworks.</p>
</blockquote>
<p>Web Components offer a set of benefits for chart creation:</p>
<ul>
<li>Cross-framework support: By encapsulating the chart within a Web Component, it becomes compatible with the majority of modern frameworks without requiring any modifications.</li>
<li>Enhanced implementation encapsulation: Web Component contain all the visualization logic within themselves, ensuring isolation from the main application. This prevents conflicts, reduces module dependencies, and eliminates unnecessary side-effects. The chart becomes a self-contained entity that can be easily managed and maintained.</li>
<li>Customizable API: Web Components provide way to create a flexible and customizable chart API to handle complex data and events flow.</li>
<li>Native technology: Web Components are part of web standards, making them available without the need for external dependencies and versioning.</li>
</ul>
<h3 id="example">Example</h3>
<p>Below is a simple example of integrating a D3 chart into a React application using Web Components.</p>
<p>In this example, the plot is re-rendered when there is a change in data within the React component.</p>

<div id="root"></div>
<script type="module" crossorigin src="/blog/chart-integration/assets/index-740d8a08.js"></script>
<link rel="stylesheet" href="/blog/chart-integration/assets/index-c66b0166.css">




<details>
  <summary>Show React component code</summary>
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useEffect</span>, <span style="color:#a6e22e">useRef</span>, <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./plot&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">max</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">setData</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>([])
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// creating ref to store a link to Web Component with plot API
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ref</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useRef</span>(<span style="color:#66d9ef">null</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// adding initial data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">addData</span>()
</span></span><span style="display:flex;"><span>  }, [])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// in this useEffect when data is changed
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// update method will be called from plot Web Component API
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>) <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">update</span>(<span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span>  }, [<span style="color:#a6e22e">data</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">addData</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newData</span> <span style="color:#f92672">=</span> [...<span style="color:#a6e22e">data</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newItem</span> <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">newItem</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">ceil</span>((Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">*</span> (<span style="color:#a6e22e">max</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">newItem</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">ceil</span>((Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">*</span> (<span style="color:#a6e22e">max</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">newData</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">newItem</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setData</span>(<span style="color:#a6e22e">newData</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">addData</span>}<span style="color:#f92672">&gt;</span><span style="color:#a6e22e">add</span> <span style="color:#a6e22e">item</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/button&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">d3</span><span style="color:#f92672">-</span><span style="color:#a6e22e">plot</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">ref</span>}<span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/d3-plot&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">App</span>
</span></span></code></pre></div>
</details>
<details>
  <summary>Show D3 plot Web Component code</summary>
  <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">d3</span>  <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;d3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">strokeColor</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;#d0d4fc&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fillColor</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;#285674&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">padding</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">max</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D3Plot</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">HTMLElement</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">container</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// plot rendering function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">renderPlot</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// to simplify the solution the plot content will be erased
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// during each render to clear previous state visualisation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">data</span>) <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">plot</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">select</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">container</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">plot</span>.<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">&#39;*&#39;</span>).<span style="color:#a6e22e">remove</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">wrapper</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">plot</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;g&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">plot</span>.<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;width&#39;</span>)) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">height</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">plot</span>.<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;height&#39;</span>)) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">scaleY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scaleLinear</span>()
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">domain</span>([<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">max</span>])
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">range</span>([<span style="color:#a6e22e">padding</span>, <span style="color:#a6e22e">height</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">padding</span>]) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">scaleX</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scaleLinear</span>()
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">domain</span>([<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">max</span>])
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">range</span>([<span style="color:#a6e22e">padding</span>, <span style="color:#a6e22e">width</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">padding</span>]) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">wrapper</span>.<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">&#39;circle&#39;</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">data</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;circle&#39;</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;cx&#39;</span>, <span style="color:#a6e22e">d</span> =&gt; <span style="color:#a6e22e">scaleX</span>(<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">x</span>))
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;cy&#39;</span>, <span style="color:#a6e22e">d</span> =&gt; <span style="color:#a6e22e">scaleY</span>(<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">y</span>))
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;r&#39;</span>, <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;stroke&#39;</span>, <span style="color:#a6e22e">strokeColor</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;fill&#39;</span>, <span style="color:#a6e22e">fillColor</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// this is a part of Web Component lifecycle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// this method will be called after component mounting
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">connectedCallback</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">container</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElementNS</span>(<span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>, <span style="color:#e6db74">&#34;svg&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">renderPlot</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">container</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// custom API method that must be called on data change
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// to re-render the plot
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">update</span>(<span style="color:#a6e22e">data</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">renderPlot</span>()
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// defining web component so it can be used in the application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>window.<span style="color:#a6e22e">customElements</span>.<span style="color:#a6e22e">define</span>(<span style="color:#e6db74">&#39;d3-plot&#39;</span>, <span style="color:#a6e22e">D3Plot</span>)
</span></span></code></pre></div>
</details>
<p>Two major parts of this example are React component and Web Component with plot implementation.</p>
<p>The React component stores data and also includes a button to modify it. Additionally, it integrates a plot Web Component by rendering it as a standard JSX element and using a ref (by the useRef hook) to obtain the element object for future API usage.</p>
<p>Plot Web Component controls plot container mounting and also provides an API for data update handling.
It also can store any local state that plot needs, like some user input result, calculations related on data, etc.
Finally, any custom handlers can be added to react on user input, just by assigning them as the element property:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">onSelect</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">element</span>) =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">element</span>)
</span></span></code></pre></div><p>and this function will be available in any place inside of the Web Component</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onSelect</span>(<span style="color:#a6e22e">element</span>)
</span></span></code></pre></div><p>For highly complex interactions, custom events can be used. These events are part of the native web API and enable seamless event subscription and publication between different modules.</p>
<p>Some common drawbacks of Web Components usage for plot integration:</p>
<ul>
<li>To work effectively with Web Components, it is necessary to understand their lifecycle and API.</li>
<li>Manual integration with frameworks, such as the use of refs in the React example, may be required.</li>
<li>The lifecycle and API of the plot must be designed and implemented from scratch.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Integrating a plot into an existing application can present complex challenges. It requires careful consideration of various crucial factors, such as logic encapsulation, expandability, framework workflow, and reusability.</p>
<p>In many scenarios, turnkey solutions can provide a convenient option, allowing developers to concentrate on plot design rather than the difficulties of integration. Nevertheless, when faced with situations that surpass the capabilities of pre-built solutions, Web Components can serve as a valuable native tool for creating a flexible custom solution without additional dependencies.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://chartexample.com/tags/blog/">blog</a></span>
        <span class="tag"><a href="https://chartexample.com/tags/chart/">chart</a></span>
        <span class="tag"><a href="https://chartexample.com/tags/spa/">spa</a></span>
        <span class="tag"><a href="https://chartexample.com/tags/application/">application</a></span>
        <span class="tag"><a href="https://chartexample.com/tags/data/">data</a></span>
        <span class="tag"><a href="https://chartexample.com/tags/interface/">interface</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            
            <span><a href="https://chartexample.com">Alex Chirkin</a></span>
            
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.c90b8161416b87c69a8e02683b54ddd6edb90aea699648bf655e6cbc45b419b8e465d196e715772463dba35a6faf5decb2eb247480d38680484d54645b434570.js" integrity="sha512-yQuBYUFrh8aajgJoO1Td1u25Cupplki/ZV5svEW0GbjkZdGW5xV3JGPbo1pvr13ssuskdIDThoBITVRkW0NFcA=="></script>


    
        <script src="https://d3js.org/d3.v7.min.js"></script>
    

    
        <script src="https://pixijs.download/release/pixi.js"></script>
    


    </body>
</html>
