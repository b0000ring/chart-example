<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Alex Chirkin "><meta name=description content="function makeLinear() {  //empty data set  let data = [0, 0, 0, 0, 0, 0, 0, 0]   // max data item value  const max = 10  // min data item value  const min = 0  const paddingY = 25  const paddingX = 50   // selecting root element for plot  const svg = d3.select(&amp;#39;#chart&amp;#39;)  // getting root element width  const width = parseInt(svg."><meta name=keywords content><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://chartexample.com/charts/linear/linear-d3/><title>D3 :: chartexample.com â€” Examples of charts with different libraries</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="D3"><meta itemprop=description content="function makeLinear() {  //empty data set  let data = [0, 0, 0, 0, 0, 0, 0, 0]   // max data item value  const max = 10  // min data item value  const min = 0  const paddingY = 25  const paddingX = 50   // selecting root element for plot  const svg = d3.select('#chart')  // getting root element width  const width = parseInt(svg."><meta itemprop=wordCount content="513"><meta itemprop=image content="https://chartexample.com"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chartexample.com"><meta name=twitter:title content="D3"><meta name=twitter:description content="function makeLinear() {  //empty data set  let data = [0, 0, 0, 0, 0, 0, 0, 0]   // max data item value  const max = 10  // min data item value  const min = 0  const paddingY = 25  const paddingX = 50   // selecting root element for plot  const svg = d3.select('#chart')  // getting root element width  const width = parseInt(svg."><link rel=stylesheet type=text/css href=style.css></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>chartexample.com</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/blog/>Blog</a></li><li><a href=/charts>Charts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class="post chart"><div class=post-info></p></div><article><h2 class=post-title><a href=https://chartexample.com/charts/linear/linear-d3/>D3</a></h2><ul id=breadcrumbs><li><a href=/>Home</a></li><li><a href=/charts>Charts</a></li><li><a href=/charts/linear>Linear</a></li><li><a href=/charts/linear/linear-d3>D3</a></li></ul><div class=post-content><svg id="chart"/><script src="/charts/linear/d3.js"/><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="display:flex"><span><span style="color:#66d9ef">function</span><span style="color:#a6e22e">makeLinear</span>() {</span></span><span style="display:flex"><span><span style="color:#75715e">//empty data set</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">let</span><span style="color:#a6e22e">data</span><span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>]</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// max data item value</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">max</span><span style="color:#f92672">=</span><span style="color:#ae81ff">10</span></span></span><span style="display:flex"><span><span style="color:#75715e">// min data item value</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">min</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span></span></span><span style="display:flex"><span><span style="color:#66d9ef">const</span><span style="color:#a6e22e">paddingY</span><span style="color:#f92672">=</span><span style="color:#ae81ff">25</span></span></span><span style="display:flex"><span><span style="color:#66d9ef">const</span><span style="color:#a6e22e">paddingX</span><span style="color:#f92672">=</span><span style="color:#ae81ff">50</span></span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// selecting root element for plot</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">svg</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">select</span>(<span style="color:#e6db74">'#chart'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// getting root element width</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">width</span><span style="color:#f92672">=</span>parseInt(<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">'width'</span>))</span></span><span style="display:flex"><span><span style="color:#75715e">// getting root element height</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">height</span><span style="color:#f92672">=</span>parseInt(<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">'height'</span>))</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// creating linear scaling for X</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// data.length is used because scaling by X</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// depends on item count, not values</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">scaleX</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scaleLinear</span>()</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">domain</span>([<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">length</span>])</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">range</span>([<span style="color:#a6e22e">paddingX</span>,<span style="color:#a6e22e">width</span><span style="color:#f92672">-</span><span style="color:#a6e22e">paddingX</span>])</span></span><span style="display:flex"><span><span style="color:#75715e">// creating linear scaling for Y</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">scaleY</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scaleLinear</span>()</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">domain</span>([<span style="color:#a6e22e">min</span>,<span style="color:#a6e22e">max</span>])</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">range</span>([<span style="color:#a6e22e">paddingY</span>,<span style="color:#a6e22e">height</span><span style="color:#f92672">-</span><span style="color:#a6e22e">paddingY</span>])</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// creating of X axis</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">axisX</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">axisTop</span>(<span style="color:#a6e22e">scaleX</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// tick format needed for custom value for every tick</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// i &lt; data.length needed to hide the last unnecessary tick label</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">tickFormat</span>((<span style="color:#a6e22e">d</span>,<span style="color:#a6e22e">i</span>) =><span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">length</span><span style="color:#f92672">?</span><span style="color:#e6db74">`item</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span><span style="color:#f92672">:</span><span style="color:#e6db74">''</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// creating of Y axis</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// swapping range values because they should increase</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// from bottom to top. its opposite by default</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">axisY</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">axisRight</span>(</span></span><span style="display:flex"><span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scaleLinear</span>()</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">domain</span>([<span style="color:#a6e22e">min</span>,<span style="color:#a6e22e">max</span>])</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">range</span>([<span style="color:#a6e22e">height</span><span style="color:#f92672">-</span><span style="color:#a6e22e">paddingY</span>,<span style="color:#a6e22e">paddingY</span>])</span></span><span style="display:flex"><span>)</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// creating an instance of line generator</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// passing accessors functions</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">lineMaker</span><span style="color:#f92672">=</span><span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">line</span>()</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">x</span>((<span style="color:#a6e22e">d</span>,<span style="color:#a6e22e">i</span>) =><span style="color:#a6e22e">scaleX</span>(<span style="color:#a6e22e">i</span>))</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">y</span>((<span style="color:#a6e22e">d</span>,<span style="color:#a6e22e">i</span>) =><span style="color:#a6e22e">height</span><span style="color:#f92672">-</span><span style="color:#a6e22e">scaleY</span>(<span style="color:#a6e22e">d</span>))</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// dot component function</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">function</span><span style="color:#a6e22e">dot</span>(<span style="color:#a6e22e">selection</span>) {</span></span><span style="display:flex"><span><span style="color:#75715e">// setting radius for dot element</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'r'</span>,<span style="color:#ae81ff">5</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// fill dot with color</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'fill'</span>,<span style="color:#e6db74">'#9E0142'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// setting x coord</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'cx'</span>, (<span style="color:#a6e22e">d</span>,<span style="color:#a6e22e">i</span>) =><span style="color:#a6e22e">scaleX</span>(<span style="color:#a6e22e">i</span>))</span></span><span style="display:flex"><span><span style="color:#75715e">// setting y coord</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'cy'</span>,<span style="color:#a6e22e">d</span>=><span style="color:#a6e22e">height</span><span style="color:#f92672">-</span><span style="color:#a6e22e">scaleY</span>(<span style="color:#a6e22e">d</span>))</span></span><span style="display:flex"><span>}</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// line component function</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">function</span><span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">selection</span>) {</span></span><span style="display:flex"><span><span style="color:#75715e">// setting line path by calling line generator instance</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'d'</span>,<span style="color:#a6e22e">lineMaker</span>(<span style="color:#a6e22e">data</span>))</span></span><span style="display:flex"><span><span style="color:#75715e">// setting empty line filling</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'fill'</span>,<span style="color:#e6db74">'none'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// setting line color</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'stroke'</span>,<span style="color:#e6db74">'#3288BD'</span>)</span></span><span style="display:flex"><span>}</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// applying lines to the chart</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// creating group element for lines</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">lines</span><span style="color:#f92672">=</span><span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'g'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// setting id for lines group</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'id'</span>,<span style="color:#e6db74">'lines'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// creating empty selection of path elements</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">'path'</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// applying data</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">data</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// selecting all new data-element connections</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">enter</span>()</span></span><span style="display:flex"><span><span style="color:#75715e">// appending actual element to every selection item</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'path'</span>)</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// applying dots to the chart</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// same steps as for lines above</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">const</span><span style="color:#a6e22e">circles</span><span style="color:#f92672">=</span><span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'g'</span>)</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'id'</span>,<span style="color:#e6db74">'circles'</span>)</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">'circle'</span>)</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">data</span>)</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">enter</span>()</span></span><span style="display:flex"><span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'circle'</span>)</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// creating g element for X axis and calling its component function</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'g'</span>).<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">axisX</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// transform in using to move the axis to bottom of the plot</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// -1 is slightly correction to make entire axis visible</span></span></span><span style="display:flex"><span><span style="color:#75715e"/>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">'transform'</span>,<span style="color:#e6db74">`translate(0,</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">height</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">)`</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// creating g element for Y axis and calling its component function</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">'g'</span>).<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">axisY</span>)</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// calling dot component function and passing circles selection</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">dot</span>(<span style="color:#a6e22e">circles</span>)</span></span><span style="display:flex"><span><span style="color:#75715e">// calling line component function and passing circles selection</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">lines</span>)</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// function for showing dynamic data and view change</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// it generates new data, applies to plot and</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// changes the view with animation</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#66d9ef">function</span><span style="color:#a6e22e">change</span>() {</span></span><span style="display:flex"><span><span style="color:#75715e">// updating of dataset</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">map</span>(() => Math.<span style="color:#a6e22e">floor</span>(Math.<span style="color:#a6e22e">random</span>()<span style="color:#f92672">*</span><span style="color:#a6e22e">max</span>))</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// updating view</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// calling dot and line component functions and</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#75715e">// passing selections with updated data and transition</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">dot</span>(<span style="color:#a6e22e">circles</span>.<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">data</span>).<span style="color:#a6e22e">transition</span>().<span style="color:#a6e22e">duration</span>(<span style="color:#ae81ff">300</span>))</span></span><span style="display:flex"><span><span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">lines</span>.<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">data</span>).<span style="color:#a6e22e">transition</span>().<span style="color:#a6e22e">duration</span>(<span style="color:#ae81ff">300</span>))</span></span><span style="display:flex"><span>}</span></span><span style="display:flex"><span/></span><span style="display:flex"><span><span style="color:#75715e">// calling change function every second</span></span></span><span style="display:flex"><span><span style="color:#75715e"/><span style="color:#a6e22e">setInterval</span>(<span style="color:#a6e22e">change</span>,<span style="color:#ae81ff">1000</span>)</span></span><span style="display:flex"><span>}</span></span></code></pre></div></div></article><hr/><div class="post-info"/></main></div><footer class="footer"><div class="footer__inner"><div class="footer__content"><span><a href="https://chartexample.com">Alex Chirkin</a></span></div></div><div class="footer__inner"><div class="footer__content"><span>Powered by<a href="http://gohugo.io">Hugo</a></span></div></div></footer></div><script type="text/javascript" src="/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js" integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l+qxcnN3UWK6NyURtxH+ovdgjyFuaKZ7si1g=="/><script src="/js/d3.js"/></body></html>